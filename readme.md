# なんちゃってブロックチェーン
P2Pネットワーク上で動くわけでも無い、普通にサーバーが一つしかない、データの証明なんて出来ない。  
ブロックチェーン（**ぽい**）ことを少ししてるだけのアプリケーション。

# 実行可能環境
- Python 3.7.4
- 利用モジュール requirements.txt に記載

# 実行方法
## 1. DB作成
`python model.py`にて、DBの作成をします。  

## 2. メインプログラム実行
`python BllockChain.py`にて、メインプログラムを実行できます。  
DB上に何もデータが保存されていない場合、自動的に「始祖のブロック」が生成されます。  
２回目以降の実行では、この始祖のブロックを含めた保存済みブロック読み込まれます。  

## 3. ブロックの追加
user_name, message, nonce（int型）を入力することで、  
以上から作られる辞書オブジェクトのハッシュ値を計算し、1/4の確率で保存がされます。  
### 1/4 である理由と、変更方法
`def judge_hash(self)` にて、ブロックの生成を判断する閾値を設定しています。
ハッシュ値は１６進数であるため、先頭の文字が現在は「0 or 1 or 2 or 3」であるとき保存されるとしてあるため、1/4の確率としています。
これを、条件をさらに増やせば生成確率が上がり、逆に減らしたり、一つ上の`if top == "0" * difficulty:`に切り替えることで、難易度をあげることができます（手動入力であるため、高難易度はお勧めしません）  


## 4. DBへの保存
あるブロックがDBに保存されるには、そのブロックの後に２つブロックが続いたときにのみ、保存となります。  
分岐が起こるような仕組みでは無い（そもそもサーバーが一つの）ため、意味は多分ないです。